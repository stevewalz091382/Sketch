<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Perspective Sketch Pad</title>
</head>
<body>

<h2>Perspective Sketch Pad</h2>

<div id="controls">
  <select id="tool">
    <option value="pencil">Pencil</option>
    <option value="line">Line</option>
    <option value="rectangle">Rectangle</option>
    <option value="oval">Oval</option>
    <option value="charcoal">Charcoal</option>
    <option value="eraser">Eraser</option>
  </select>

  <select id="gridMode">
    <option value="none">No Grid</option>
    <option value="1p">1-Point</option>
    <option value="2p">2-Point</option>
    <option value="3p">3-Point</option>
  </select>

  <input type="color" id="color" value="#000000">
  <label>Size:</label>
  <input type="number" id="thickness" min="1" max="50" value="2">
  
  <div id="charcoalControl" class="control-group" style="display:none;">
    <div class="control-group-title">Charcoal Settings</div>
    <label style="font-size:12px;">
      Opacity: <input type="range" id="charcoalOpacity" min="5" max="80" value="30" style="width:100px;">
      <span id="opacityValue">30%</span>
    </label>
  </div>

  <button id="undo">Undo</button>
  <button id="redo">Redo</button>
  <button id="clear">Clear</button>
  
  <div class="control-group">
    <div class="control-group-title">Export</div>
    <select id="exportFormat">
      <option value="jpeg">JPEG</option>
      <option value="png">PNG</option>
    </select>
    <button id="export" class="small-btn">Export</button>
  </div>

  <div class="control-group">
    <div class="control-group-title">Background Image</div>
    <input type="file" id="uploadBg" accept="image/*">
  </div>

  <div class="control-group">
    <div class="control-group-title">Floating Images</div>
    <input type="file" id="uploadFloating" accept="image/*" multiple>
    <select id="floatingSelect" style="display:none;">
      <option value="">Select Image...</option>
    </select>
  </div>

  <div id="floatingControls" class="control-group">
    <div class="control-group-title">Edit Selected Image</div>
    <div class="button-row">
      <button id="btnMoveUp" class="small-btn">↑</button>
      <button id="btnMoveDown" class="small-btn">↓</button>
      <button id="btnMoveLeft" class="small-btn">←</button>
      <button id="btnMoveRight" class="small-btn">→</button>
    </div>
    <div class="button-row">
      <button id="btnRotateLeft" class="small-btn">⟲ -5°</button>
      <button id="btnRotateRight" class="small-btn">⟳ +5°</button>
    </div>
    <div class="button-row">
      <button id="btnScaleUp" class="small-btn">Scale +</button>
      <button id="btnScaleDown" class="small-btn">Scale -</button>
    </div>
    <button id="btnDelete" class="small-btn" style="background:#ff3b30;">Delete Image</button>
  </div>

  <label><input type="checkbox" id="toggleBgImage" checked> BG</label>
  <label><input type="checkbox" id="toggleFloating" checked> Float</label>
  <label><input type="checkbox" id="toggleDrawing" checked> Draw</label>
</div>

<div id="sketch-wrapper">
  <canvas id="imageLayer"></canvas>
  <canvas id="floatingLayer"></canvas>
  <canvas id="gridLayer"></canvas>
  <canvas id="bufferLayer"></canvas>
  <canvas id="drawingLayer"></canvas>
</div>

</body>
</html>
